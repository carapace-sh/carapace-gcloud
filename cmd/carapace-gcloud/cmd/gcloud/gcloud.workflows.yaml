# yaml-language-server: $schema=https://carapace.sh/schemas/command.json
name: workflows
description: Manage your Cloud Workflows resources.
commands:
    - name: execute
      description: Execute a workflow.
      flags:
        --call-log-level=: Level of call logging to apply during execution.
        --data=: JSON string with data that will be passed to the workflow as an argument.
        --disable-concurrency-quota-overflow-buffering: If set, the execution will not be backlogged when the concurrency quota is exhausted.
        --execution-history-level=: Level of execution history to apply during execution.
        --labels=: List of label KEY=VALUE pairs to add.
        --location=: The Cloud location for the workflow.
        --no-disable-concurrency-quota-overflow-buffering&: If set, the execution will not be backlogged when the concurrency quota is exhausted.
      completion:
        flag:
            call-log-level:
                - log-all-calls
                - log-errors-only
                - log-none
                - none
            execution-history-level:
                - execution-history-basic
                - execution-history-detailed
                - none
    - name: executions
      description: Manage your Cloud Workflow execution resources.
      commands:
        - name: describe-last
          description: Show metadata for the last cached workflow execution.
        - name: list
          description: List workflow executions.
          flags:
            --filter=: Apply a Boolean filter _EXPRESSION_ to each resource item to be listed.
            --limit=: Maximum number of resources to list.
            --location=: The Cloud location for the workflow.
            --no-uri&: Print a list of resource URIs instead of the default output, and change the
            --page-size=: Some services group resource list output into pages.
            --sort-by=: Comma-separated list of resource field key names to sort by.
            --uri: Print a list of resource URIs instead of the default output, and change the
        - name: wait
          description: Wait for an execution to complete.
          flags:
            --location=: Cloud location for the execution.
            --workflow=: Workflow for the execution.
        - name: wait-last
          description: Wait for the last cached workflow execution to complete.
        - name: cancel
          description: Cancel a workflow execution.
          flags:
            --location=: The Cloud location for the execution.
            --workflow=: The Cloud Workflow for the execution.
        - name: describe
          description: Show metadata for a workflow execution.
          flags:
            --location=: The Cloud location for the execution.
            --workflow=: The Cloud Workflow for the execution.
    - name: list
      description: List workflows.
      flags:
        --filter=: Apply a Boolean filter _EXPRESSION_ to each resource item to be listed.
        --limit=: Maximum number of resources to list.
        --location=: ID of the location or fully qualified identifier for the location.
        --no-uri&: Print a list of resource URIs instead of the default output, and change the
        --page-size=: Some services group resource list output into pages.
        --sort-by=: Comma-separated list of resource field key names to sort by.
        --uri: Print a list of resource URIs instead of the default output, and change the
    - name: run
      description: Execute a workflow and wait for the execution to complete.
      flags:
        --call-log-level=: Level of call logging to apply during execution.
        --data=: JSON string with data that will be passed to the workflow as an argument.
        --disable-concurrency-quota-overflow-buffering: If set, the execution will not be backlogged when the concurrency quota is exhausted.
        --execution-history-level=: Level of execution history to apply during execution.
        --labels=: List of label KEY=VALUE pairs to add.
        --location=: Cloud location for the workflow.
        --no-disable-concurrency-quota-overflow-buffering&: If set, the execution will not be backlogged when the concurrency quota is exhausted.
      completion:
        flag:
            call-log-level:
                - log-all-calls
                - log-errors-only
                - log-none
                - none
            execution-history-level:
                - execution-history-basic
                - execution-history-detailed
                - none
    - name: delete
      description: Delete a workflow.
      flags:
        --async: Return immediately, without waiting for the operation in progress to
        --location=: The Cloud location for the workflow.
        --no-async&: Return immediately, without waiting for the operation in progress to
    - name: deploy
      description: Create or update a workflow.
      flags:
        --async: Return immediately, without waiting for the operation in progress to
        --call-log-level=: Level of call logging to apply by default for the workflow.
        --clear-env-vars: Clears all user-defined environment variables previously set for the
        --clear-kms-key&: Creates the new Workflow Revision and its associated Executions without
        --description=: The description of the workflow to deploy.
        --env-vars-file=: Sets environment variables for the workflow to those stored in a local
        --execution-history-level=: Level of execution history to apply for the workflow.
        --kms-key=&: Sets the user managed KMS crypto key used to encrypt the new Workflow
        --labels=: List of label KEY=VALUE pairs to add.
        --location=: Cloud location for the workflow.
        --no-async&: Return immediately, without waiting for the operation in progress to
        --no-clear-env-vars&: Clears all user-defined environment variables previously set for the
        --no-clear-kms-key&: Creates the new Workflow Revision and its associated Executions without
        --remove-env-vars=: Removes user-defined environment variables from a workflow based
        --service-account=: The service account that should be used as the workflow identity.
        --set-env-vars=: Sets environment variables for the workflow based on a comma-separated
        --source=: Location of a workflow source code to deploy.
        --tags=: List of tags KEY=VALUE pairs to bind.
        --update-env-vars=: Updates existing or adds new user-defined environment variables based
      completion:
        flag:
            call-log-level:
                - log-all-calls
                - log-errors-only
                - log-none
                - none
            execution-history-level:
                - execution-history-basic
                - execution-history-detailed
                - none
    - name: describe
      description: Show metadata for a workflow.
      flags:
        --location=: The Cloud location for the workflow.
        --revision-id=: The revision ID of the workflow to describe.
