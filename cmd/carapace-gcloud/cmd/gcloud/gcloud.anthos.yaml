# yaml-language-server: $schema=https://carapace.sh/schemas/command.json
name: anthos
description: Anthos command Group.
commands:
    - name: auth
      description: Authenticate clusters using the Anthos client.
      commands:
        - name: login
          description: Authenticate clusters using the Anthos client.
          flags:
            --cluster=: Cluster to authenticate against.
            --dry-run: Print out the generated kubectl commands but do not execute them.
            --kubeconfig=: Specifies the destination kubeconfig file where credentials will be stored.
            --login-config-cert=: Specifies the CA certificate file to be added to trusted pool for making HTTPS connections to a `--login-config` URL.
            --login-config=: Specifies the configuration yaml file for login.
            --no-browser: Option to indicate login completion on a second device with browser.Used with `server` option.
            --no-dry-run&: Print out the generated kubectl commands but do not execute them.
            --no-set-preferred-auth&: If set, forces update of preferred authentication for given cluster
            --no-show-exec-error&: If true and command fails, print the underlying command that was executed and its exit status.
            --remote-bootstrap=: Option to complete login that was started using `no-browser` optionon a remote device that does not have a browser.
            --server=: Specifies the URL of API server of the cluster to authenticate against.
            --set-preferred-auth: If set, forces update of preferred authentication for given cluster
            --show-exec-error&: If true and command fails, print the underlying command that was executed and its exit status.
            --user=: If configuring multiple user accounts in the same kubecconfig file, you can specify a user to differentiate between them.
        - name: token
          description: Creates a token for authentication.
          hidden: true
          flags:
            --access-token-expiry=: Expiration time of access token received from identity provider after authorization flow.
            --access-token=: Access Token received from identity provider after authorization flow.
            --aws-sts-region=: Region for AWS STS endpoint.
            --client-id=: ClientID is the id for OIDC client application.
            --client-secret=: Client Secret is the shared secret between OIDC client application and OIDC provider.
            --cluster=: Name of the cluster for which token is created.
            --id-token=: ID Token received from identity provider after authorization flow.
            --idp-certificate-authority-data=: PEM-encoded certificate authority certificate for OIDC provider.
            --idp-issuer-url=: URI for the OIDC provider.
            --kubeconfig-path=: Path to the kubeconfig path that would be updated with ID and access token on expiry.
            --no-show-exec-error&: If true and command fails, print the underlying command that was executed and its exit status.
            --refresh-token=: Refresh Token received from identity provider after authorization flow.
            --show-exec-error&: If true and command fails, print the underlying command that was executed and its exit status.
            --type=!: Type of token to be created.
            --user=: User used in kubeconfig.
          completion:
            flag:
                type:
                    - aws
                    - oidc
        - name: version
          description: Get version info for the Anthos Auth client.
          hidden: true
          flags:
            --no-show-exec-error&: If true and command fails, print the underlying command that was executed and its exit status.
            --show-exec-error&: If true and command fails, print the underlying command that was executed and its exit status.
    - name: config
      description: Anthos configuration command group.
      commands:
        - name: controller
          description: Manage Anthos Config Controller instances.
          commands:
            - name: create
              description: Create Anthos Config Controller instances.
              flags:
                --async: Return immediately, without waiting for the operation in progress to
                --cluster-ipv4-cidr-block=: The IP address range for the cluster pod IPs.
                --cluster-named-range=: The name of the existing secondary range in the clusters subnetwork to use for pod IP addresses.
                --full-management: Enable full cluster management type.
                --location=: The name of the Config Controller instance location.
                --man-block=: (DEPRECATED) Master Authorized Network.
                --man-blocks=: Master Authorized Network.
                --master-ipv4-cidr-block=: The /28 network that the control plane will use.
                --network=: Existing VPC Network to put the GKE cluster and nodes in.
                --no-async&: Return immediately, without waiting for the operation in progress to
                --no-use-private-endpoint&: Only allow access to the master's private endpoint IP.
                --services-ipv4-cidr-block=: The IP address range for the cluster service IPs.
                --services-named-range=: The name of the existing secondary range in the clusters subnetwork to use for service ClusterIPs.
                --subnet=: Specifies the subnet that the VM instances are a part of.
                --use-private-endpoint: Only allow access to the master's private endpoint IP.
            - name: delete
              description: Delete Anthos Config Controller instances.
              flags:
                --async: Return immediately, without waiting for the operation in progress to
                --location=: The name of the Anthos Config Controller instance location.
                --no-async&: Return immediately, without waiting for the operation in progress to
            - name: describe
              description: Describe Anthos Config Controller instances.
              flags:
                --location=: The name of the Anthos Config Controller instance location.
            - name: get-config-connector-identity
              description: Fetch default Config Connector identity.
              flags:
                --location=!: The location (region) of the Anthos Config Controller.
            - name: get-credentials
              description: Fetch credentials for a running Anthos Config Controller.
              flags:
                --location=!: The location (region) of the Anthos Config Controller.
            - name: list
              description: List Anthos Config Controller instances.
              flags:
                --filter=: Apply a Boolean filter _EXPRESSION_ to each resource item to be listed.
                --full-name: Print the fully specified name of the instance.
                --limit=: Maximum number of resources to list.
                --location=: ID of the instance-list or fully qualified identifier for the instance-list.
                --no-full-name&: Print the fully specified name of the instance.
                --page-size=: Some services group resource list output into pages.
                --sort-by=: Comma-separated list of resource field key names to sort by.
        - name: operations
          description: Get and list operations for Anthos Config Controller instances.
          commands:
            - name: describe
              description: Describe Anthos Config Controller operations.
              flags:
                --location=: The name of the Anthos Config Controller instance location.
            - name: list
              description: List Anthos Config Controller operations.
              flags:
                --filter=: Apply a Boolean filter _EXPRESSION_ to each resource item to be listed.
                --limit=: Maximum number of resources to list.
                --location=: ID of the operation-list or fully qualified identifier for the operation-list.
                --page-size=: Some services group resource list output into pages.
                --sort-by=: Comma-separated list of resource field key names to sort by.
    - name: create-login-config
      description: Generates a login configuration file.
      flags:
        --kubeconfig=!: Specifies the input kubeconfig file to access user cluster for login configuration data.
        --merge-from=: Specifies the file path of an existing login configuration file to merge with.
        --no-show-exec-error&: If true and command fails, print the underlying command that was executed and its exit status.
        --output=: Destination to write login configuration file.
        --show-exec-error&: If true and command fails, print the underlying command that was executed and its exit status.
