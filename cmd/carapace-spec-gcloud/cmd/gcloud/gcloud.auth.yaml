# yaml-language-server: $schema=https://carapace.sh/schemas/command.json
name: auth
description: Manage oauth2 credentials for the Google Cloud CLI.
commands:
    - name: list
      description: Lists credentialed accounts.
      flags:
        --filter-account=: List only credentials for one account.
        --filter=: Apply a Boolean filter _EXPRESSION_ to each resource item to be listed.
        --limit=: Maximum number of resources to list.
        --page-size=: Some services group resource list output into pages.
        --sort-by=: Comma-separated list of resource field key names to sort by.
    - name: login
      description: Authorize gcloud to access the Cloud Platform with Google user credentials.
      flags:
        --activate: Set the new account to active.
        --add-quota-project-to-adc&: Read the project from gcloud's context and write to application default credentials as the quota project.
        --brief: Minimal user output.
        --browser: If you want to authorize the gcloud CLI on a machine that doesn't
        --cred-file=: Path to the external account configuration file (workload identity pool, generated by the Cloud Console or `gcloud iam workload-identity-pools create-cred-config`) or service account credential key file (JSON).
        --do-not-activate&: THIS ARGUMENT NEEDS HELP TEXT.
        --enable-gdrive-access: Enable Google Drive access.
        --force: Re-run the web authorization flow even if the given account has valid credentials.
        --launch-browser: Launch a browser for authorization.
        --login-config=: Path to the workforce identity federation login configuration file which can be generated using the `gcloud iam workforce-pools create-login-config` command.
        --no-activate&: Set the new account to active.
        --no-add-quota-project-to-adc&: Read the project from gcloud's context and write to application default credentials as the quota project.
        --no-brief&: Minimal user output.
        --no-browser&: If you want to authorize the gcloud CLI on a machine that doesn't
        --no-do-not-activate&: THIS ARGUMENT NEEDS HELP TEXT.
        --no-enable-gdrive-access&: Enable Google Drive access.
        --no-force&: Re-run the web authorization flow even if the given account has valid credentials.
        --no-launch-browser&: Launch a browser for authorization.
        --no-update-adc&: Write the obtained credentials to the well-known location for Application Default Credentials (ADC).
        --remote-bootstrap=&: Use this flag to pass login parameters to a gcloud instance which will help this gcloud to login.
        --update-adc: Write the obtained credentials to the well-known location for Application Default Credentials (ADC).
    - name: print-access-token
      description: Print an access token for the specified account.
      flags:
        --lifetime=: Access token lifetime.
        --scopes=&: The scopes to authorize for.
    - name: activate-refresh-token
      description: Get credentials via an existing refresh token.
      hidden: true
    - name: docker-helper
      description: A Docker credential helper to provide access to GCR repositories.
      hidden: true
    - name: git-helper
      description: A git credential helper to provide access to Google git repositories.
      hidden: true
      flags:
        --ignore-unknown: Produce no output and exit with 0 when given an unknown method (e.g. store) or host.
        --no-ignore-unknown&: Produce no output and exit with 0 when given an unknown method (e.g. store) or host.
    - name: print-identity-token
      description: Print an identity token for the specified account.
      flags:
        --audiences=: Intended recipient of the token.
        --include-email: Specify whether or not service account email is included in the identity token.
        --include-license: Specify whether or not license codes for images associated with this instance are included in the identity token payload.
        --no-include-email&: Specify whether or not service account email is included in the identity token.
        --no-include-license&: Specify whether or not license codes for images associated with this instance are included in the identity token payload.
        --token-format=: Specify whether or not the project and instance details are included in the identity token payload.
      completion:
        flag:
            token-format:
                - standard
                - full
    - name: print-refresh-token
      description: A command that prints the refresh token for the current account.
      hidden: true
    - name: revoke
      description: Revoke access credentials for an account.
      flags:
        --all: Revoke credentials for all accounts.
        --no-all&: Revoke credentials for all accounts.
    - name: activate-service-account
      description: Authorize access to Google Cloud with a service account.
      flags:
        --key-file=!: Path to the private key file.
        --no-prompt-for-password&: Prompt for the password for the service account private key (only for a .p12 file).
        --password-file=: Path to a file containing the password for the service account private key (only for a .p12 file).
        --prompt-for-password: Prompt for the password for the service account private key (only for a .p12 file).
    - name: application-default
      description: Manage your active Application Default Credentials.
      commands:
        - name: login
          description: Acquire new user credentials to use for Application Default Credentials.
          flags:
            --browser: If you want to authorize the client libraries on a machine that doesn't
            --client-id-file=: A file containing your own client id to use to login.
            --disable-quota-project: By default, the project in billing/quota_project or core/project will
            --launch-browser: Launch a browser for authorization.
            --login-config=: Path to the login configuration file (workforce pool, generated by the Cloud Console or `gcloud iam workforce-pools create-login-config`).
            --no-browser&: If you want to authorize the client libraries on a machine that doesn't
            --no-disable-quota-project&: By default, the project in billing/quota_project or core/project will
            --no-launch-browser&: Launch a browser for authorization.
            --remote-bootstrap=&: Use this flag to pass login parameters to a gcloud instance which will help this gcloud to login.
            --scopes=: The names of the scopes to authorize for.
        - name: print-access-token
          description: Print an access token for your current Application Default Credentials.
          flags:
            --lifetime=: Access token lifetime.
            --scopes=: The scopes to authorize for.
        - name: revoke
          description: Revoke previously generated Application Default Credentials.
        - name: set-quota-project
          description: Update or add a quota project in application default credentials (ADC).
    - name: configure-docker
      description: Register `gcloud` as a Docker credential helper.
      flags:
        --include-artifact-registry&: Whether to include all Artifact Registry domains.
        --no-include-artifact-registry&: Whether to include all Artifact Registry domains.
    - name: describe
      description: Describes credentials.
      hidden: true
    - name: enterprise-certificate-config
      description: Manage enterprise certificate configurations.
      commands:
        - name: create
          description: Create enterprise certificate configurations.
          commands:
            - name: linux
              description: Create an enterprise-certificate configuration file for Linux.
              flags:
                --ecp-client=: Provide a custom path to the enterprise-certificate-proxy shared client library.
                --ecp=: Provide a custom path to the enterprise-certificate-proxy binary.
                --label=!: 'The PKCS #11 label for the target credentials.'
                --module=!: 'The full file path to the PKCS #11 module.'
                --output-file=: Override the file path that the enterprise-certificate-proxy configuration is written to.
                --slot=!: 'The PKCS #11 slot containing the target credentials.'
                --tls-offload=: Provide a custom path to the enterprise-certificate-proxy shared tls offload library.
                --user-pin=: 'The user pin used to login to the PKCS #11 module.'
            - name: macos
              description: Create an enterprise-certificate configuration file for MacOS.
              flags:
                --ecp-client=: Provide a custom path to the enterprise-certificate-proxy shared client library.
                --ecp=: Provide a custom path to the enterprise-certificate-proxy binary.
                --issuer=!: The certificate issuer.
                --keychain-type=: Specify the target keychain(s) for certificate lookup.Accepted values are "login", "system", or "all".
                --output-file=: Override the file path that the enterprise-certificate-proxy configuration is written to.
                --tls-offload=: Provide a custom path to the enterprise-certificate-proxy shared tls offload library.
            - name: windows
              description: Create an enterprise-certificate configuration file for Windows.
              flags:
                --ecp-client=: Provide a custom path to the enterprise-certificate-proxy shared client library.
                --ecp=: Provide a custom path to the enterprise-certificate-proxy binary.
                --issuer=!: The certificate issuer.
                --output-file=: Override the file path that the enterprise-certificate-proxy configuration is written to.
                --provider=!: The Windows secure store provider.
                --store=!: The Windows secure store.
                --tls-offload=: Provide a custom path to the enterprise-certificate-proxy shared tls offload library.
