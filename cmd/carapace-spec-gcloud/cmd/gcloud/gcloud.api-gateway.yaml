# yaml-language-server: $schema=https://carapace.sh/schemas/command.json
name: api-gateway
description: Manage Cloud API Gateway resources.
commands:
    - name: gateways
      description: Manage Cloud API Gateway Gateways.
      commands:
        - name: remove-iam-policy-binding
          description: Remove IAM policy binding from a gateway.
          flags:
            --location=: Cloud location for gateway.
            --member=!: The principal to remove the binding for.
            --role=!: The role to remove the principal from.
        - name: update
          description: Update an API Gateway.
          flags:
            --api-config=!: ID of the api-config or fully qualified identifier for the api-config.
            --api=: API ID.
            --async: Return immediately, without waiting for the operation in progress to
            --clear-labels: Remove all labels.
            --display-name=: Human readable name which can optionally be supplied.
            --location=: Cloud location for gateway.
            --no-async&: Return immediately, without waiting for the operation in progress to
            --no-clear-labels&: Remove all labels.
            --remove-labels=: List of label keys to remove.
            --update-labels=: List of label KEY=VALUE pairs to update.
        - name: add-iam-policy-binding
          description: Add IAM policy binding to a gateway.
          flags:
            --location=: Cloud location for gateway.
            --member=!: The principal to add the binding for.
            --role=!: Role name to assign to the principal.
        - name: create
          description: Create a new gateway.
          flags:
            --api-config=!: ID of the api-config or fully qualified identifier for the api-config.
            --api=: API ID.
            --async: Return immediately, without waiting for the operation in progress to
            --display-name=: Human readable name which can optionally be supplied.
            --labels=: List of label KEY=VALUE pairs to add.
            --location=: Cloud location for gateway.
            --no-async&: Return immediately, without waiting for the operation in progress to
        - name: delete
          description: Delete an API Gateway.
          flags:
            --async: Return immediately, without waiting for the operation in progress to
            --location=: Cloud location for gateway.
            --no-async&: Return immediately, without waiting for the operation in progress to
        - name: describe
          description: Show details about a specific gateway.
          flags:
            --location=: Cloud location for gateway.
        - name: get-iam-policy
          description: Get the IAM policy for a gateway.
          flags:
            --filter=: Apply a Boolean filter _EXPRESSION_ to each resource item to be listed.
            --limit=: Maximum number of resources to list.
            --location=: Cloud location for gateway.
            --page-size=: Some services group resource list output into pages.
            --sort-by=: Comma-separated list of resource field key names to sort by.
        - name: list
          description: List API Gateways.
          flags:
            --filter=: Apply a Boolean filter _EXPRESSION_ to each resource item to be listed.
            --limit=: Maximum number of resources to list.
            --location=: ID of the location or fully qualified identifier for the location.
            --page-size=: Some services group resource list output into pages.
            --sort-by=: Comma-separated list of resource field key names to sort by.
    - name: operations
      description: Manage operations for Cloud API Gateways.
      commands:
        - name: cancel
          description: Cancel a Cloud API Gateway operation.
          flags:
            --location=: Cloud location for operation.
        - name: describe
          description: Show details about the Cloud API Gateway operation.
          flags:
            --location=: Cloud location for operation.
        - name: list
          description: List API Gateway operations.
          flags:
            --filter=: Apply a Boolean filter _EXPRESSION_ to each resource item to be listed.
            --limit=: Maximum number of resources to list.
            --location=: ID of the location or fully qualified identifier for the location.
            --page-size=: Some services group resource list output into pages.
        - name: wait
          description: Wait for a Cloud API Gateway operation to complete.
          flags:
            --location=: Cloud location for operation.
    - name: api-configs
      description: Manage Cloud API Gateway API Configs.
      commands:
        - name: create
          description: Add a new config to an API.
          flags:
            --api=: API ID.
            --async: Return immediately, without waiting for the operation in progress to
            --backend-auth-service-account=: Service account which will be used to sign tokens for backends with       authentication configured.
            --display-name=: Human readable name which can optionally be supplied.
            --grpc-files=: Files describing the GRPC service.
            --labels=: List of label KEY=VALUE pairs to add.
            --no-async&: Return immediately, without waiting for the operation in progress to
            --openapi-spec=: The OpenAPI specifications containing service configuration information, and API specification for the gateway.
        - name: delete
          description: Deletes a config from an API.
          flags:
            --api=: API ID.
            --async: Return immediately, without waiting for the operation in progress to
            --no-async&: Return immediately, without waiting for the operation in progress to
        - name: describe
          description: Show details about a specific API config.
          flags:
            --api=: API ID.
            --view=: The API Configuration view to return.
          completion:
            flag:
                view:
                    - BASIC
                    - FULL
        - name: list
          description: List configs for an API.
          flags:
            --api=: ID of the api or fully qualified identifier for the api.
            --filter=: Apply a Boolean filter _EXPRESSION_ to each resource item to be listed.
            --limit=: Maximum number of resources to list.
            --page-size=: Some services group resource list output into pages.
            --sort-by=: Comma-separated list of resource field key names to sort by.
        - name: update
          description: Update an API Gateway API config.
          flags:
            --api=: API ID.
            --async: Return immediately, without waiting for the operation in progress to
            --clear-labels: Remove all labels.
            --display-name=: Human readable name which can optionally be supplied.
            --no-async&: Return immediately, without waiting for the operation in progress to
            --no-clear-labels&: Remove all labels.
            --remove-labels=: List of label keys to remove.
            --update-labels=: List of label KEY=VALUE pairs to update.
    - name: apis
      description: Manage Cloud API Gateway APIs.
      commands:
        - name: get-iam-policy
          description: Get the IAM policy for an API.
          flags:
            --filter=: Apply a Boolean filter _EXPRESSION_ to each resource item to be listed.
            --limit=: Maximum number of resources to list.
            --page-size=: Some services group resource list output into pages.
            --sort-by=: Comma-separated list of resource field key names to sort by.
        - name: list
          description: List APIs.
          flags:
            --filter=: Apply a Boolean filter _EXPRESSION_ to each resource item to be listed.
            --limit=: Maximum number of resources to list.
            --page-size=: Some services group resource list output into pages.
            --sort-by=: Comma-separated list of resource field key names to sort by.
        - name: remove-iam-policy-binding
          description: Remove IAM policy binding to a gateway.
          flags:
            --member=!: The principal to remove the binding for.
            --role=!: The role to remove the principal from.
        - name: update
          description: Update an API Gateway API.
          flags:
            --async: Return immediately, without waiting for the operation in progress to
            --clear-labels: Remove all labels.
            --display-name=: Human readable name which can optionally be supplied.
            --no-async&: Return immediately, without waiting for the operation in progress to
            --no-clear-labels&: Remove all labels.
            --remove-labels=: List of label keys to remove.
            --update-labels=: List of label KEY=VALUE pairs to update.
        - name: add-iam-policy-binding
          description: Add IAM policy binding to a gateway.
          flags:
            --member=!: The principal to add the binding for.
            --role=!: Role name to assign to the principal.
        - name: create
          description: Create a new API.
          flags:
            --async: Return immediately, without waiting for the operation in progress to
            --display-name=: Human readable name which can optionally be supplied.
            --labels=: List of label KEY=VALUE pairs to add.
            --managed-service=: The name of a pre-existing Google Managed Service.
            --no-async&: Return immediately, without waiting for the operation in progress to
        - name: delete
          description: Deletes an API.
          flags:
            --async: Return immediately, without waiting for the operation in progress to
            --no-async&: Return immediately, without waiting for the operation in progress to
        - name: describe
          description: Show details about a specific API.
